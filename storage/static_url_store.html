<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Static URL Store &mdash; Encore Documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" >
    <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/clipboard.min.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="../_static/img/favicon.png">
    <link rel="index" title="Index" href="../genindex.html" >
    <link rel="search" title="Search" href="../search.html" >
    <link rel="top" title="Encore Documentation" href="../index.html" >
    <link rel="up" title="Storage" href="index.html" >
    <link rel="next" title="Dynamic URL Store" href="dynamic_url_store.html" >
    <link rel="prev" title="File System Store" href="filesystem_store.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../index.html">Encore Documentation</a></li>
	
          <li class="active"><a href="index.html" accesskey="U">Storage</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="dynamic_url_store.html" title="Dynamic URL Store"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="filesystem_store.html" title="File System Store"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <span class="target" id="module-encore.storage.static_url_store"></span><section id="static-url-store">
<h1>Static URL Store<a class="headerlink" href="#static-url-store" title="Permalink to this heading">¶</a></h1>
<p>This module contains the <a class="reference internal" href="#encore.storage.static_url_store.StaticURLStore" title="encore.storage.static_url_store.StaticURLStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">StaticURLStore</span></code></a> store that communicates
with a remote HTTP server which provides the actual data storage.  This is a
simple read-only store that can be run against a static HTTP server which
provides a json file with all metadata and then serves data from URLs from
another path.  The metadata URL is polled periodically for updates.</p>
<p>A typical static server might be layed out as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">base_directory</span><span class="o">/</span>
    <span class="n">index</span><span class="o">.</span><span class="n">json</span>
    <span class="n">data</span><span class="o">/</span>
        <span class="n">key1</span>
        <span class="n">key2</span>
        <span class="o">...</span>
</pre></div>
</div>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">encore.storage.static_url_store.</span></span><span class="sig-name descname"><span class="pre">StaticURLStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poll</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore" title="Permalink to this definition">¶</a></dt>
<dd><p>A read-only key-value store that is a front end for data served via URLs</p>
<p>All data is assumed to be served from some root url.  In addition
the store requires knowledge of two paths: a data prefix URL which is a
partial URL to which the keys will be appended when requesting data, and a
query URL which is a single URL which provides all metadata as a json
encoded file.</p>
<p>For example, an HTTP server may store data at URLs of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">data</span><span class="o">/&lt;</span><span class="n">key</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>and may store the metadata at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>These would have a root url of “<a class="reference external" href="http://www.example.com/">http://www.example.com/</a>”, a data path
of “data/” and a query path of “index.json”.</p>
<p>All queries are performed using urllib.urlopen, so this store can be
implemented by an HTTP, FTP or file server which serves static files.  When
connecting, if appropriate credentials are supplied then HTTP authentication
will be used when connecting the remote server</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Since we use urllib without any further modifications, HTTPS requests
do not validate the server’s certificate.</p>
</div>
<p>Because of the limited nature of the interface, this store implementation
is read only, and handles updates via periodic polling of the query prefix
URL.  This guarantees that the viewed data is always consistent, it just may
not be current. Most of the work of querying is done on the client side
using the cached metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_manager</strong> – An event_manager which implements the <a class="reference internal" href="../events/abstract_event_manager.html#encore.events.abstract_event_manager.BaseEventManager" title="encore.events.abstract_event_manager.BaseEventManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEventManager</span></code></a>
API.</p></li>
<li><p><strong>root_url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The base url that data is served from.</p></li>
<li><p><strong>data_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The URL prefix that the data is served from.</p></li>
<li><p><strong>query_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The URL that the metadata is served from.</p></li>
<li><p><strong>poll</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – The polling frequency for the polling thread.  Polls every 5 min by default.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poll</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxy_handler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_handler_factory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the key-value store, optionally with authentication</p>
<p>This method creates appropriate urllib openers for the store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>credentials</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A dictionary which has at least keys ‘username’ and ‘password’
and optional keys ‘uri’ and ‘realm’.  The ‘uri’ will default to
the root url of the store, and ‘realm’ will default to
‘encore.storage’.</p></li>
<li><p><strong>proxy_handler</strong> (<em>urllib.ProxyHandler</em>) – An optional urllib.ProxyHandler instance.  If none is provided
then urllib will create a proxy handler from the user’s environment
if needed.</p></li>
<li><p><strong>auth_handler_factory</strong> – An optional factory to build urllib authenticators.  The credentials
will be passed as keyword arguments to this handler’s add_password
method.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.disconnect">
<span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.disconnect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect from the key-value store</p>
<p>This method disposes or disconnects to any long-lived resources that the
store requires.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether or not a key exists in the key-value store</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>string</em>) – The key for the resource in the key-value store.  They key is a unique
identifier for the resource within the key-value store.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>exists</strong> – Whether or not the key exists in the key-value store.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a stream of data and metdata from a given key in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>string</em>) – The key for the resource in the key-value store.  They key is a unique
identifier for the resource within the key-value store.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>data</strong> (<em>file-like</em>) – A readable file-like object that provides stream of data from the
key-value store.  This is the same type of filelike object returned
by urllib’s urlopen function.</p></li>
<li><p><strong>metadata</strong> (<em>dictionary</em>) – A dictionary of metadata for the key.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError :</strong> – If the key is not found in the store, a KeyError is raised.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a stream from a given key in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>string</em>) – The key for the resource in the key-value store.  They key is a unique
identifier for the resource within the key-value store.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> – A readable file-like object the that provides stream of data from the
key-value store.  This is the same type of filelike object returned
by urllib’s urlopen function.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>file-like</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError :</strong> – This will raise a key error if the key is not present in the store.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.get_metadata">
<span class="sig-name descname"><span class="pre">get_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the metadata for a given key in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>string</em>) – The key for the resource in the key-value store.  They key is a unique
identifier for the resource within the key-value store.</p></li>
<li><p><strong>select</strong> (<em>iterable of strings</em><em> or </em><em>None</em>) – Which metadata keys to populate in the result.  If unspecified, then
return the entire metadata dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>metadata</strong> – A dictionary of metadata associated with the key.  The dictionary
has keys as specified by the select argument.  If a key specified in
select is not present in the metadata, then it will not be present
in the returned value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError :</strong> – This will raise a key error if the key is not present in the store.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.glob">
<span class="sig-name descname"><span class="pre">glob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.glob" title="Permalink to this definition">¶</a></dt>
<dd><p>Return keys which match glob-style patterns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>string</em>) – Glob-style pattern to match keys with.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>result</strong> – A iterable of keys which match the glob pattern.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterable</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.is_connected">
<span class="sig-name descname"><span class="pre">is_connected</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.is_connected"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.is_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the store is currently connected</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>connected</strong> – Whether or not the store is currently connected.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.multiget">
<span class="sig-name descname"><span class="pre">multiget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.multiget" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the data and metadata for a collection of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keys</strong> (<em>iterable of strings</em>) – The keys for the resources in the key-value store.  Each key is a
unique identifier for a resource within the key-value store.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>result</strong> – An iterator of (data, metadata) pairs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterator of (file-like, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a>) tuples</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError :</strong> – This will raise a key error if the key is not present in the store.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.multiget_data">
<span class="sig-name descname"><span class="pre">multiget_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.multiget_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the data for a collection of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keys</strong> (<em>iterable of strings</em>) – The keys for the resources in the key-value store.  Each key is a
unique identifier for a resource within the key-value store.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>result</strong> – An iterator of file-like data objects corresponding to the keys.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterator of file-like</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError :</strong> – This will raise a key error if the key is not present in the store.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.multiget_metadata">
<span class="sig-name descname"><span class="pre">multiget_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.multiget_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the metadata for a collection of keys in the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<em>iterable of strings</em>) – The keys for the resources in the key-value store.  Each key is a
unique identifier for a resource within the key-value store.</p></li>
<li><p><strong>select</strong> (<em>iterable of strings</em><em> or </em><em>None</em>) – Which metadata keys to populate in the results.  If unspecified, then
return the entire metadata dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>metadatas</strong> – An iterator of dictionaries of metadata associated with the key.
The dictionaries have keys as specified by the select argument.  If
a key specified in select is not present in the metadata, then it
will not be present in the returned value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterator of dicts</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError :</strong> – This will raise a key error if the key is not present in the store.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.query">
<span class="sig-name descname"><span class="pre">query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Query for keys and metadata matching metadata provided as keyword arguments</p>
<p>This provides a very simple querying interface that returns precise
matches with the metadata.  If no arguments are supplied, the query
will return the complete set of metadata for the key-value store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>select</strong> (<em>iterable of strings</em><em> or </em><em>None</em>) – An optional list of metadata keys to return.  If this is not None,
then the metadata dictionaries will only have values for the specified
keys populated.</p></li>
<li><p><strong>kwargs</strong> – Arguments where the keywords are metadata keys, and values are
possible values for that metadata item.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>result</strong> – An iterable of (key, metadata) tuples where metadata matches
all the specified values for the specified metadata keywords.
If a key specified in select is not present in the metadata of a
particular key, then it will not be present in the returned value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterable</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.query_keys">
<span class="sig-name descname"><span class="pre">query_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.query_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.query_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Query for keys matching metadata provided as keyword arguments</p>
<p>This provides a very simple querying interface that returns precise
matches with the metadata.  If no arguments are supplied, the query
will return the complete set of keys for the key-value store.</p>
<p>This is equivalent to <code class="docutils literal notranslate"><span class="pre">self.query(**kwargs).keys()</span></code>, but potentially
more efficiently implemented.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – Arguments where the keywords are metadata keys, and values are
possible values for that metadata item.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>result</strong> – An iterable of key-value store keys whose metadata matches all the
specified values for the specified metadata keywords.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>iterable</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.to_bytes">
<span class="sig-name descname"><span class="pre">to_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1048576</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.to_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Efficiently store the data associated with a key into a bytes object.</p>
<p>This method can be optionally overriden by subclasses to proved a more
efficient way of copy the data from the underlying data store to a bytes
object.  The default implementation uses the get() method
together with chunked reads from the returned data stream and join.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>string</em>) – The key for the resource in the key-value store.  They key is a unique
identifier for the resource within the key-value store.</p></li>
<li><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – An optional indicator of the number of bytes to read at a time.
Implementations are free to ignore this hint or use a different
default if they need to.  The default is 1048576 bytes (1 MiB).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>bytes</em> – The contents of the file-like object as bytes.</p></li>
<li><p><em>Events</em></p></li>
<li><p><em>——</em></p></li>
<li><p><em>StoreProgressStartEvent</em> – For buffering implementations, this event should be emitted prior to
extracting the data.</p></li>
<li><p><em>StoreProgressStepEvent</em> – For buffering implementations, this event should be emitted
periodically as data is extracted.</p></li>
<li><p><em>StoreProgressEndEvent</em> – For buffering implementations, this event should be emitted after
extracting the data.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.to_file">
<span class="sig-name descname"><span class="pre">to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1048576</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Efficiently store the data associated with a key into a file.</p>
<p>This method can be optionally overriden by subclasses to proved a more
efficient way of copy the data from the underlying data store to a path
in the filesystem.  The default implementation uses the get() method
together with chunked reads from the returned data stream to the disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>string</em>) – The key for the resource in the key-value store.  They key is a unique
identifier for the resource within the key-value store.</p></li>
<li><p><strong>path</strong> (<em>string</em>) – A file system path to store the data to.</p></li>
<li><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – An optional indicator of the number of bytes to read at a time.
Implementations are free to ignore this hint or use a different
default if they need to.  The default is 1048576 bytes (1 MiB).</p></li>
<li><p><strong>Events</strong> – </p></li>
<li><p><strong>------</strong> – </p></li>
<li><p><strong>StoreProgressStartEvent</strong> – For buffering implementations, this event should be emitted prior to
writing any data to disk.</p></li>
<li><p><strong>StoreProgressStepEvent</strong> – For buffering implementations, this event should be emitted
periodically as data is written to disk.</p></li>
<li><p><strong>StoreProgressEndEvent</strong> – For buffering implementations, this event should be emitted after
finishing writing to disk.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="encore.storage.static_url_store.StaticURLStore.update_index">
<span class="sig-name descname"><span class="pre">update_index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/encore/storage/static_url_store.html#StaticURLStore.update_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#encore.storage.static_url_store.StaticURLStore.update_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Request the most recent version of the metadata</p>
<p>This downloads the json file at the query_path location, and updates
the local metadata cache with this information.  It then emits events
that represent the difference between the old metadata and the new
metadata.</p>
<p>This method is normally called from the polling thread, but can be called
by other code when needed.  It locks the metadata index whilst performing
the update.</p>
</dd></dl>

</dd></dl>



          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/img/e-logo.png" alt="Logo">
            </a></p>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="filesystem_store.html"
                          title="previous chapter">File System Store</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="dynamic_url_store.html"
                          title="next chapter">Dynamic URL Store</a></p>
  </div>
  <h3>This Page</h3>
  <div>
    <a href="../_sources/storage/static_url_store.rst.txt"
       rel="nofollow">Show Source</a>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2011-2022, Enthought, Inc.
      </li>
      <li>
      Last updated on Aug 19, 2022.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 5.1.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>